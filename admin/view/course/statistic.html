<script>
$(window).on('load', function() {
	//document.getElementById('coba').innerHTML = 'your tip has been submitted!';
	// Datatables
	// Row selection and deletion (multiple rows)
	// -----------------------------------------------------------------
	var rowDeletion = $('#newslist').DataTable({
		"responsive": true,
		"language": {
			"paginate": {
			  "previous": '<i class="fa fa-angle-left"></i>',
			  "next": '<i class="fa fa-angle-right"></i>'
			}
		},
		"dom": '<"toolbar">frtip'
	});

	$('#create-toolbar').appendTo($("div.toolbar"));
	$('#separator-toolbar').appendTo($("div.toolbar"));
	$('#delete-toolbar').appendTo($("div.toolbar"));

	/*$('#newslist tbody').on( 'click', 'tr', function () {
		$(this).toggleClass('selected');
	} );

	$('#demo-dt-delete-btn').click( function () {
		rowDeletion.row('.selected').remove().draw( false );
	} );*/
})	
$('.selectpicker').selectpicker();

function isEmpty() {
 //   alert("The form was submitted");	
 var month = document.getElementById("monthid").value;
 var year = document.getElementById("yearid").value;
 
	 if(month == '' && year == ''){
		 alert('Choose month and year first!');
		return false;
	 }
}

</script>

<!--Page Title-->
<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
<div id="page-title">
	<h1 class="page-header text-overflow">Course Material</h1>

	<!--Searchbox-->
	<!-- <div class="searchbox">
		<div class="input-group custom-search-form">
			<input type="text" class="form-control" placeholder="Search..">
			<span class="input-group-btn">
				<button class="text-muted" type="button"><i class="fa fa-search"></i></button>
			</span>
		</div>
	</div> -->
</div>
<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
<!--End page title-->

<!--Breadcrumb-->
<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
<ol class="breadcrumb">
	<li><a href="{$basedomain}">Home</a></li>
	<li><a href="{$basedomain}course/courselist">Report Statistic Visitor</a></li>
	<li class="active">Report Statistic Visitor</li>
</ol>
<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
<!--End breadcrumb-->

<!--Page content-->
<!--===================================================-->
<div id="page-content">
	<!--{pr($data)}-->
	<!-- Row selection and deletion (multiple rows) -->
	<!--===================================================-->
	<div class="panel">
		<div class="panel-heading">
			<h3 class="panel-title">Report Statistic Visitor</h3>
		</div>
		
			<div id="delete-toolbar" class="table-toolbar-left">
			<form class="form-horizontal" method="POST" action="{$basedomain}course/cetak" onsubmit="return isEmpty()">	
				<!--<a href="{$basedomain}course/cetak"><button id="" class="btn btn-info btn-labeled fa fa-print">Download</button></a>
				<!--<div class="input-group date">
				<input type="text" name="start_date" id="dateid" class="form-control" value="">
				<span class="input-group-addon"><i class="fa fa-calendar fa-lg"></i></span>
				</div>-->
				 <select id="monthid" class="selectpicker" data-live-search="true" name="month" >
					<option value=''>Choose one of the month</option>
					<option value='1'>January</option>
					<option value='2'>February</option>
					<option value='3'>March</option>
					<option value='4'>April</option>
					<option value='5'>May</option>
					<option value='6'>June</option>
					<option value='7'>July</option>
					<option value='8'>August</option>
					<option value='9'>September</option>
					<option value='10'>October</option>
					<option value='11'>November</option>
					<option value='12'>December</option>
				</select>
				<select id="yearid" class="selectpicker" data-live-search="true" name="year" >
					<option value=''>Choose one of the year</option>
					<option value='{date(Y) - 1}'>{date(Y) - 1}</option>
					<option value='{date(Y)}'>{date(Y)}</option>
				</select>
				<button id="" type="submit" name="type" value="1" class="btn btn-danger btn-labeled fa fa-print">Download pdf</button>
				<button id="" type="submit" name="type" value="2" class="btn btn-success btn-labeled fa fa-print">Download xls</button>
			</form>	
			</div>
			
		
		<div class="panel-body">
			<table id="newslist" class="table table-striped table-bordered" cellspacing="0" width="100%">
				<thead>
					<tr align="center">
						<th>registered users</th>
						<th>users who already received a certificate</th>
						<th>users who just browse the web without login</th>
						<!--<th><input type="text" name="start_date" id="coba" class="form-control" value="" readonly></th>-->
						<th>month</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td align="center">{$register_user['0']['total']}</td>
						<td align="center">{$sertificate_user['0']['total']}</td>
						<td align="center">{$visitor_user['0']['total']}</td>
						<td align="center"><label id="message">{$statistic}</label></td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	<!--===================================================-->
	<!-- End Row selection and deletion (multiple rows) -->
	
	
</div>
<!--===================================================-->
<!--End page content-->

{literal}
<script type="text/javascript">
$('#monthid,#yearid').on('change', function(){
		var monthid = $('#monthid').val();
		var yearid = $('#yearid').val();
		if(monthid != '' && yearid != ''){
				$.post(basedomain+"course/test", {monthid:monthid, yearid:yearid}, function(data){
								$('#message').text(data.total);
								},"JSON");
			}		
		});
		
</script>	
{/literal}
